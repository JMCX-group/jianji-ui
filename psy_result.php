<?php
/**
 * Created by PhpStorm.
 * User: why
 * Date: 16/2/15
 * Time: 下午6:20
 */

$all_psy_type = array(
    "INTP"=>array(
        "name"=>"猫头鹰",
        "text"=>"这种人善于分析并体贴他人，更喜欢单独工作，在社交场合经常感觉不舒服。他们不耐烦于层次结构和政治问题，宁愿看到自己的领导人通过自身才能，而非其魅力和影响力来展示自身价值。尽管他们不是很善于交际，但他们聪明，言语刻薄，听到人们喜欢与他们为伴而颇感惊讶。他们适合从事作家、诗人、NGO等职位。",
        "img"=>"img/temp/psy_result/user_head/owl.png",
        "big_head"=>"owl.png"
    ),

    "ESTP"=>array(
        "name"=>"狐狸",
        "text"=>"这些人引人注目、充满魅力和影响力，一直寻找生活之最美并希望与其朋友分享。他们活跃、冲动和有趣。他们知道如何适应环境，从而影响他人，有时甚至是操纵他人。他们是优秀的推销员，可成为极好的朋友。他们适合从事销售、营销策划人员、演员。",
        "img"=>"img/temp/psy_result/user_head/fox.png",
        "big_head"=>"fox.png"
    ),

    "ISFP"=>array(
        "name"=>"树懒",
        "text"=>"这些人放松而静谧，按照自己的节奏生活，即时即地享受生活。他们体贴、愉快、关心并如我们所说的那样-放松。他们的价值观对自己很重要，但他们并不是那种为价值观去打仗的人。他们并不懒惰，他们只是比一般人更随性。他们适合做国企类工作，喝喝茶、聊聊天、打打字，生活不能再幸福了。",
        "img"=>"img/temp/psy_result/user_head/sloth.png",
        "big_head"=>"sloth.png"
    ),
    "ENTJ"=>array(
        "name"=>"狮子",
        "text"=>"这些人是独立、理性和令人信服的领导人，以业务为重，雄心勃勃。他们拒绝让主观情绪影响自己的决策过程，可能被一些人认为是铁石心肠和缺乏激情，但这些“冷酷”的人们往往卓有成效，成功而强大。他们是丛林之王。他们适合做初创企业的创始人，以他们的领导力和执行力可以带一票小弟大干一场。",
        "img"=>"img/temp/psy_result/user_head/lion.png",
        "big_head"=>"lion.png"
    ),
    "ISFJ"=>array(
        "name"=>"鹿",
        "text"=>"这类人安静、信任并体贴他人。他们喜欢将事物保持和谐有序，尊重别人的情感并接受那些与己不同的人。他们有时被描述为非常情绪化和值得信赖的人。他们适合做行政、财务类型的工作，在自己安静的世界中把一切打理好。",
        "img"=>"img/temp/psy_result/user_head/deer.png",
        "big_head"=>"deer.png"
    ),
    "INTJ"=>array(
        "name"=>"章鱼",
        "text"=>"这种类型的人特立独行，聪慧，极具创造性——但对其他人所做之事漠不关心。他们被认为是所有人格类型中最具独立性的人，当得到独处的自由时，他们最能发挥自己的最佳能量。他们知道自己具有什么样的聪明才智，他们通常对复杂的思想和理论充满激情。他们这类人是带领我们创新的人，从事各个领域的开拓者，不乏科学家、思想家、明星企业家。",
        "img"=>"img/temp/psy_result/user_head/octopus.png",
        "big_head"=>"octopus.png"
    ),
    "ISTP"=>array(
        "name"=>"猫",
        "text"=>"这些人天生安静，擅长分析，往往对工程这样的技术领域情有独钟，总喜欢搞清楚事情的来龙去脉。常规俗套很快让他们不胜其烦。他们有竞争力，如肾上腺素冲动。他们的座右铭是“共生共荣”——他们对桎梏戒律不屑一顾，并希望他人不干涉他们的个人事务。他们中一些人喜欢这句座右铭：“别踩我”。他们之中很多人都成为了默默码字的编辑、还有IT企业的码农。",
        "img"=>"img/temp/psy_result/user_head/cat.png",
        "big_head"=>"cat.png"
    ),
    "ESFP"=>array(
        "name"=>"水獭",
        "text"=>"这些人活在当前，想要尽可能享受生活经历。他们非常不守规矩，但慷慨而乐观。他们喜欢社交生活和体验新事物。课堂学习不是他们的强项，虽然他们又聪明又有创造性，他们只喜欢“顺其自然”，享受自己的时光。他们从事的工作富有挑战性，如探险家、私营店主，生活过得有声有色。",
        "img"=>"img/temp/psy_result/user_head/otter.png",
        "big_head"=>"otter.png"
    ),
    "INFJ"=>array(
        "name"=>"狼",
        "text"=>"这些人是忠于自己的价值观，往往神龙不见首，甚至你与他们亲密无间也会觉得他们深不可测。他们通常是一些极富创造性、鼓舞人心和敏感的人。相比之下，他们不太透露个人信息，除非他们完全信任对方。不过，他们还是非常关心别人的康乐，往往被视为保护者以及天生的领导者。这些人从事的行业如记者、时装设计师、讲师等，极具创造性和煽动性。",
        "img"=>"img/temp/psy_result/user_head/wolf.png",
        "big_head"=>"wolf.png"
    ),
    "ENFP"=>array(
        "name"=>"海豚",
        "text"=>"这些人具有创造力和有感染力的快乐，有无限的能量，极其渴望学习新事物和结识新朋友。他们给身边的人带来快乐并敏锐地意识到他们的需求。他们热情奔放有人缘，但也很容易感到厌烦。他们喜欢从事公关、公司企划类型的工作，创意十足萌萌哒。",
        "img"=>"img/temp/psy_result/user_head/dolphin.png",
        "big_head"=>"dolphin.png"
    ),
    "ESTJ"=>array(
        "name"=>"蜜蜂",
        "text"=>"这些人通常都是城市人，努力完善社会并想要成为组织和政府的一部分。他们往往很保守，笃信法律和正确的程序。他们实事求是，坦诚正直，不愿走出自己的舒适区去尝试新事物，但善于交际，喜欢良好的沟通。他们适合从事和人打交道的工作，如银行柜台、收银员、人力资源。",
        "img"=>"img/temp/psy_result/user_head/bee.png",
        "big_head"=>"bee.png"
    ),
    "ISTJ"=>array(
        "name"=>"海狸",
        "text"=>"这些人具有逻辑性，具有一切追求务实人们的良好声誉。他们值得信赖、缜密、理性和严肃。像海狸一样，他们是非常专心的工作者，会尽一切努力将工作做到最佳。至于消极的一面，他们有很好的意图，但有时很难与他人的情感需求沟通。他们适合从事金融、法律、咨询等类型的工作，高工作负荷证明了他们的强大和能力。",
        "img"=>"img/temp/psy_result/user_head/beaver.png",
        "big_head"=>"beaver.png"
    ),
    "ENFJ"=>array(
        "name"=>"狗",
        "text"=>"这些人非常善于交际，是朋友和家人的强有力支持者。他们讨厌欺凌并对他们所爱的人投入深情。当他们喜欢与周围人同欢共乐。他们往往很快就能和别人相处得很好，甚至有时顺从周围人的价值观。他们忠诚，希望别人也能忠诚。他们忠心不二的工作态度，在很多岗位都会赢得自己的地位，适合做公务员、银行职员类工作。",
        "img"=>"img/temp/psy_result/user_head/dog.png",
        "big_head"=>"dog.png"
    ),
    "INFP"=>array(
        "name"=>"猫鼬",
        "text"=>"这些人相信自己的价值观，是理想主义者，他们忠诚于家人和朋友，按照他们的意志，根据他们自己的价值观去生活。他们对自己周围的一切充满好奇心，但对于他们所爱的人或自己价值观的安全，他们绝不会接受任何威胁。这种人适合做自由职业者，比如专栏作家、摄影师、私营店主等。",
        "img"=>"img/temp/psy_result/user_head/mongoose.png",
        "big_head"=>"mongoose.png"
    ),
    "ENTP"=>array(
        "name"=>"鹦鹉",
        "text"=>"这是些特别推崇智力和能力的人，为自己和他人。他们机智、聪明、应变能力强。他们喜欢分析问题的各个方面，是深刻的思想家，富有创意，很适合从事艺术方面的工作。",
        "img"=>"img/temp/psy_result/user_head/parrot.png",
        "big_head"=>"parrot.png"
    ),
    "ESFJ"=>array(
        "name"=>"大象",
        "text"=>"性情都是温顺友善的，也不能排除出现个别爱惹事爱打架的。喜欢和家人朋友在一起，是个顾家的好先生/太太。对待工作很有耐性，韧劲十足，常常成为公司的中坚力量和和领导层。",
        "img"=>"img/temp/psy_result/user_head/elephant.png",
        "big_head"=>"elephant.png"
    )
);

if(!isset($_GET['psy_vector'])){exit(0);}
$psy_vector_index = $_GET['psy_vector'];
if(!isset($all_psy_type[$psy_vector_index])){exit(0);}

$result_vector = $all_psy_type[$psy_vector_index];
?>
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no">
    <title>简迹</title>
    <?php require_once(dirname(__FILE__).'/page_parts/common/base_url.php');?>
    <?php require_once(dirname(__FILE__).'/page_parts/common/fonts.php');?>
    <?php require_once(dirname(__FILE__).'/page_parts/common/css.php');?>

    <style>
        body{
            color: #fff;
        }
        .page-title{
            background-color: rgba(168,193,246,0.1);
        }
        .page-result-text{
            color:rgb(142,161,204);
            word-break: break-all;
            word-wrap: break-word;
            overflow: hidden;
        }
        .page-tag-title{
            position: absolute;
            top:0;
        }
        .page-tag{
            background-color: rgba(168,193,246,0.1);
            overflow: hidden;
        }
        .page-tag img{
            position: absolute;
            right: 0;
            top: 0;
        }

        .page-tag-input-panel input{
            border:0;
            outline: none;
            background-color: transparent;
            color:#fff;
            font-family: "Hiragino Sans GB W3","Hiragino Sans GB", "Microsoft YaHei", sans-serif, 'MS Sans Serif', Geneva, sans-serif;
        }
        .page-tag-input-title{
            position: absolute;
            left:0;
            top:0;
        }
        .page-tag-input-control{
            border-bottom: 1px solid rgba(163, 198, 246, 0.1);
        }
        #page-template-tag{
            display: none;
        }
        #page-goto-index{
            text-align: center;
            background-color: rgba(168,193,246,0.1);
        }
    </style>
</head>
<body class="cf-invisible">
    <div class="cf-wrap cf-wrap-no-bottom" id="page-main-panel" data-page-panel-idx="1">
        <img src="img/temp/psy_result/bkg.jpg" class="cf-img-bkg">
        <div class="cf-row" data-cf-layout='{
                "paddingTop":80
            }'></div>
        <div class="cf-row cf-text-center" data-cf-layout='{
                "fontSize":30,
                "height":30,
                "lineHeight":30,
                "marginBottom":38
            }'>您的测试结果</div>
        <div class="cf-row cf-text-center" data-cf-layout='{
                "paddingLeft":70,
                "paddingRight":70,
                "marginBottom":32
            }'>
            <div class="cf-row page-title" data-cf-layout='{
                    "height":100,
                    "lineHeight":100,
                    "fontSize":30
                }'><?php echo $result_vector['name'];?></div>
        </div>
        <div class="cf-row page-result-text" data-cf-layout='{
                "lineHeight":36,
                "fontSize":22,
                "paddingLeft":70,
                "paddingRight":70,
                "marginBottom":52
            }'><?php echo $result_vector['text'];?></div>
        <div class="cf-row page-user-head-img" data-cf-layout='{
                "paddingLeft":70,
                "paddingRight":70,
                "marginBottom":48
            }'>
            <div class="cf-col-x" data-cf-layout='{
                    "fontSize":24,
                    "height":80,
                    "lineHeight":80
                }'>推荐头像：</div>
            <div class="cf-col-x" data-cf-layout='{
                    "fontSize":0,
                    "width":80,
                    "height":80
                }'><img src="<?php echo $result_vector['img'] ?>" class="cf-img-bkg"></div>
        </div>
        <div class="cf-row" id="page-tag-panel" data-cf-layout='{
                "paddingLeft":126,
                "paddingRight":70,
                "lineHeight":30,
                "fontSize":20,
                "marginBottom":30
            }'>
            <div class="cf-col-x page-tag-title" data-cf-layout='{
                    "height":30,
                    "lineHeight":30,
                    "fontSize":24,
                    "left":70
                }'>标签：</div>
            <div class="cf-col-x page-tag" data-cf-layout='{
                    "paddingLeft":16,
                    "paddingRight":16,
                    "marginBottom":20,
                    "marginLeft":20
                }'><span>体贴</span><img src="img/temp/psy_result/icon/tag_close.png" class="page-opt-remove-tag" data-cf-layout='{"width":7,"right":2,"top":2,"paddingBottom":20,"paddingLeft":16}'></div>
            <div class="cf-col-x page-tag" data-cf-layout='{
                    "paddingLeft":16,
                    "paddingRight":16,
                    "marginBottom":20,
                    "marginLeft":20
                }'><span>聪明</span><img src="img/temp/psy_result/icon/tag_close.png" class="page-opt-remove-tag" data-cf-layout='{"width":7,"right":2,"top":2,"paddingBottom":20,"paddingLeft":16}'></div>
            <div class="cf-col-x page-tag" data-cf-layout='{
                    "paddingLeft":16,
                    "paddingRight":16,
                    "marginBottom":20,
                    "marginLeft":20
                }'><span>善于分析</span><img src="img/temp/psy_result/icon/tag_close.png" class="page-opt-remove-tag" data-cf-layout='{"width":7,"right":2,"top":2,"paddingBottom":20,"paddingLeft":16}'></div>
            <div class="cf-col-x page-tag" data-cf-layout='{
                    "paddingLeft":16,
                    "paddingRight":16,
                    "marginBottom":20,
                    "marginLeft":20
                }'><span>独行侠</span><img src="img/temp/psy_result/icon/tag_close.png" class="page-opt-remove-tag" data-cf-layout='{"width":7,"right":2,"top":2,"paddingBottom":20,"paddingLeft":16}'></div>
            <div class="cf-col-x page-tag" data-cf-layout='{
                    "paddingLeft":16,
                    "paddingRight":16,
                    "marginBottom":20,
                    "marginLeft":20
                }'><span>有才能</span><img src="img/temp/psy_result/icon/tag_close.png" class="page-opt-remove-tag" data-cf-layout='{"width":7,"right":2,"top":2,"paddingBottom":20,"paddingLeft":16}'></div>
        </div>
        <div class="cf-row page-tag-input-panel" data-cf-layout='{
                "paddingLeft":200,
                "lineHeight":44,
                "fontSize":24,
                "marginBottom":60
            }'>
            <div class="cf-col-x page-tag-input-title" data-cf-layout='{"left":70}'>添加标签：</div>
            <div class="cf-col-x page-tag-input-control" data-cf-layout='{
                    "width":370,
                    "fontSize":20
                }'>
                <input placeholder="" type="text" maxlength="10" data-cf-layout='{"fontSize":20}'>
            </div>
        </div>

        <div class="cf-row" data-cf-layout='{
            "paddingLeft":70,
            "paddingRight":70
        }'>
            <div class="cf-row" id="page-goto-index" data-cf-layout='{
                "height":100,
                "lineHeight":100,
                "fontSize":44
                }'>NEXT</div>
        </div>
    </div>

    <div class="cf-col-x page-tag" id="page-template-tag" data-cf-layout='{
                    "paddingLeft":16,
                    "paddingRight":16,
                    "marginBottom":20,
                    "marginLeft":20
                }'><span></span><img src="img/temp/psy_result/icon/tag_close.png" class="page-opt-remove-tag" data-cf-layout='{"width":7,"right":2,"top":2,"paddingBottom":20,"paddingLeft":16}'></div>

<?php require_once(dirname(__FILE__).'/page_parts/common/js.php');?>

<script>
    function page_init(){
        g_jq_dom = $.extend({}, g_jq_dom, {
            $main_page:$("#page-main-panel"),
            $tag_panel:$("#page-tag-panel"),
            $page_goto_index:$("#page-goto-index"),
            $temp_tag:$("#page-template-tag").removeAttr('id').remove()
        });

        g_jq_dom.$main_page.css({
            "min-height":g_var.wnd_height
        });
    }

    function remove_tag(){
        var $tag = $(this).parent();
        var tag_height = $tag.innerHeight();
        $tag.animate({width:0, height:tag_height,opacity:0}, 400,function(){
            $(this).remove();
            var $all_tag = g_jq_dom.$tag_panel.find('.page-tag');
            if($all_tag.length === 0){
                g_jq_dom.$tag_panel.css({"paddingBottom":50*g_var.scale_ratio});
            }
        });
    }

    function check_tag_text(str){
        return ('' === str.trim());
    }
    function filter_tag_input(e){
        if(32 == e.keyCode){
            return false;
        }
    }

    function add_tag($input){
        var tag_text = $input.val();
        if(check_tag_text(tag_text)){$input.val('');return;}
        var $new_tag = g_jq_dom.$temp_tag.clone();
        $new_tag.find('span').text(tag_text);
        $new_tag.appendTo(g_jq_dom.$tag_panel);
        $input.val('');
    }

    function input_enter(e){
        var $this = $(this);
        if(13 == e.keyCode){
            add_tag($this);
            $this.blur();

        }
    }

    function input_blur(){
        add_tag($(this));
    }

    function bind_event(){
        g_jq_dom.$body.on(g_event.touchend, '.page-opt-remove-tag', remove_tag);
        g_jq_dom.$body.on(g_event.keydown, '.page-tag-input-control input', filter_tag_input);
        g_jq_dom.$body.on(g_event.keypress, '.page-tag-input-control input', input_enter);
        g_jq_dom.$body.on(g_event.blur, '.page-tag-input-control input', input_blur);

        g_jq_dom.$page_goto_index.on(g_event.touchend, function(){
            location.href = 'index.php?head='+'<?php  echo $result_vector['big_head'];?>';
        })
    }
    $(function(){
        page_init();
        bind_event();
    });
</script>
</body>
</html>